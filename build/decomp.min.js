!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).decomp=r()}}(function(){return function f(o,i,a){function l(n,r){if(!i[n]){if(!o[n]){var e="function"==typeof require&&require;if(!r&&e)return e(n,!0);if(h)return h(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var u=i[n]={exports:{}};o[n][0].call(u.exports,function(r){return l(o[n][1][r]||r)},u,u.exports,f,o,i,a)}return i[n].exports}for(var h="function"==typeof require&&require,r=0;r<a.length;r++)l(a[r]);return l}({1:[function(r,n,e){function a(r,n,e){e=e||0;var t,u,f,o,i,a,l,h=[0,0];return t=r[1][1]-r[0][1],u=r[0][0]-r[1][0],f=t*r[0][0]+u*r[0][1],o=n[1][1]-n[0][1],i=n[0][0]-n[1][0],a=o*n[0][0]+i*n[0][1],d(l=t*i-o*u,0,e)||(h[0]=(i*f-u*a)/l,h[1]=(t*a-o*f)/l),h}function u(r,n,e,t){var u=n[0]-r[0],f=n[1]-r[1],o=t[0]-e[0],i=t[1]-e[1];if(o*f-i*u==0)return!1;var a=(u*(e[1]-r[1])+f*(r[0]-e[0]))/(o*f-i*u),l=(o*(r[1]-e[1])+i*(e[0]-r[0]))/(i*u-o*f);return 0<=a&&a<=1&&0<=l&&l<=1}function l(r,n,e){return(n[0]-r[0])*(e[1]-r[1])-(e[0]-r[0])*(n[1]-r[1])}function w(r,n,e){return 0<l(r,n,e)}function D(r,n,e){return 0<=l(r,n,e)}function E(r,n,e){return l(r,n,e)<0}function N(r,n,e){return l(r,n,e)<=0}n.exports={decomp:function(r){var n=function r(n){var e=[],t=[],u=[],f=[];var o=Number.MAX_VALUE;for(var i=0;i<n.length;++i)if(k(n,i))for(var a=0;a<n.length;++a)if(g(n,i,a)){t=r(p(n,i,a,f)),u=r(p(n,a,i,f));for(var l=0;l<u.length;l++)t.push(u[l]);t.length<o&&(o=(e=t).length,e.push([U(n,i),U(n,a)]))}return e}(r);return 0<n.length?function r(n,e){if(0===e.length)return[n];{if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(var t=[n],u=0;u<e.length;u++)for(var f=e[u],o=0;o<t.length;o++){var i=t[o],a=r(i,f);if(a){t.splice(o,1),t.push(a[0],a[1]);break}}return t}var f=e,u=n.indexOf(f[0]),o=n.indexOf(f[1]);return-1!==u&&-1!==o&&[p(n,u,o),p(n,o,u)]}}(r,n):[r]},quickDecomp:function r(n,e,t,u,f,o,i){o=o||100;i=i||0;f=f||25;e=void 0!==e?e:[];t=t||[];u=u||[];var a=[0,0],l=[0,0],h=[0,0];var c=0,v=0,s=0,g=0;var p=0,d=0,m=0;var y=[],x=[];var A=n,b=n;if(b.length<3)return e;i++;if(o<i)return console.warn("quickDecomp: max level ("+o+") reached."),e;for(var q=0;q<n.length;++q)if(k(A,q)){t.push(A[q]),c=v=Number.MAX_VALUE;for(var M=0;M<n.length;++M)w(U(A,q-1),U(A,q),U(A,M))&&N(U(A,q-1),U(A,q),U(A,M-1))&&(h=L(U(A,q-1),U(A,q),U(A,M),U(A,M-1)),E(U(A,q+1),U(A,q),h)&&(s=O(A[q],h))<v&&(v=s,l=h,d=M)),w(U(A,q+1),U(A,q),U(A,M+1))&&N(U(A,q+1),U(A,q),U(A,M))&&(h=L(U(A,q+1),U(A,q),U(A,M),U(A,M+1)),w(U(A,q-1),U(A,q),h)&&(s=O(A[q],h))<c&&(c=s,a=h,p=M));if(d===(p+1)%n.length)h[0]=(l[0]+a[0])/2,h[1]=(l[1]+a[1])/2,u.push(h),q<p?(_(y,A,q,p+1),y.push(h),x.push(h),0!==d&&_(x,A,d,A.length),_(x,A,0,q+1)):(0!==q&&_(y,A,q,A.length),_(y,A,0,p+1),y.push(h),x.push(h),_(x,A,d,q+1));else{if(p<d&&(p+=n.length),g=Number.MAX_VALUE,p<d)return e;for(var M=d;M<=p;++M)D(U(A,q-1),U(A,q),U(A,M))&&N(U(A,q+1),U(A,q),U(A,M))&&(s=O(U(A,q),U(A,M)))<g&&C(A,q,M)&&(g=s,m=M%n.length);q<m?(_(y,A,q,m+1),0!==m&&_(x,A,m,b.length),_(x,A,0,q+1)):(0!==q&&_(y,A,q,b.length),_(y,A,0,m+1),_(x,A,m,q+1))}return y.length<x.length?(r(y,e,t,u,f,o,i),r(x,e,t,u,f,o,i)):(r(x,e,t,u,f,o,i),r(y,e,t,u,f,o,i)),e}e.push(n);return e},isSimple:function(r){var n,e=r;for(n=0;n<e.length-1;n++)for(var t=0;t<n-1;t++)if(u(e[n],e[n+1],e[t],e[t+1]))return!1;for(n=1;n<e.length-2;n++)if(u(e[0],e[e.length-1],e[n],e[n+1]))return!1;return!0},removeCollinearPoints:function(r,n){for(var e=0,t=r.length-1;3<r.length&&0<=t;--t)f(U(r,t-1),U(r,t),U(r,t+1),n)&&(r.splice(t%r.length,1),e++);return e},removeDuplicatePoints:function(r,n){for(var e=r.length-1;1<=e;--e)for(var t=r[e],u=e-1;0<=u;--u)f=t,o=r[u],i=n,d(f[0],o[0],i)&&d(f[1],o[1],i)&&r.splice(e,1);var f,o,i},makeCCW:function(r){for(var n=0,e=r,t=1;t<r.length;++t)(e[t][1]<e[n][1]||e[t][1]===e[n][1]&&e[t][0]>e[n][0])&&(n=t);return!w(U(r,n-1),U(r,n),U(r,n+1))&&(function(r){for(var n=[],e=r.length,t=0;t!==e;t++)n.push(r.pop());for(var t=0;t!==e;t++)r[t]=n[t]}(r),!0)},lineSegmentsIntersect:u};var h=[],c=[];function f(r,n,e,t){if(t){var u=h,f=c;u[0]=n[0]-r[0],u[1]=n[1]-r[1],f[0]=e[0]-n[0],f[1]=e[1]-n[1];var o=u[0]*f[0]+u[1]*f[1],i=Math.sqrt(u[0]*u[0]+u[1]*u[1]),a=Math.sqrt(f[0]*f[0]+f[1]*f[1]);return Math.acos(o/(i*a))<t}return 0===l(r,n,e)}function O(r,n){var e=n[0]-r[0],t=n[1]-r[1];return e*e+t*t}function U(r,n){var e=r.length;return r[n<0?n%e+e:n%e]}function _(r,n,e,t){for(var u=e;u<t;u++)r.push(n[u])}function k(r,n){return E(U(r,n-1),U(r,n),U(r,n+1))}var v=[],s=[];function g(r,n,e){var t,u,f=v,o=s;if(D(U(r,n+1),U(r,n),U(r,e))&&N(U(r,n-1),U(r,n),U(r,e)))return!1;u=O(U(r,n),U(r,e));for(var i=0;i!==r.length;++i)if((i+1)%r.length!==n&&i!==n&&D(U(r,n),U(r,e),U(r,i+1))&&N(U(r,n),U(r,e),U(r,i))&&(f[0]=U(r,n),f[1]=U(r,e),o[0]=U(r,i),o[1]=U(r,i+1),t=a(f,o),O(U(r,n),t)<u))return!1;return!0}function C(r,n,e){for(var t=0;t!==r.length;++t)if(t!==n&&t!==e&&(t+1)%r.length!==n&&(t+1)%r.length!==e&&u(U(r,n),U(r,e),U(r,t),U(r,t+1)))return!1;return!0}function p(r,n,e,t){var u=t||[];if(u.length=0,n<e)for(var f=n;f<=e;f++)u.push(r[f]);else{for(f=0;f<=e;f++)u.push(r[f]);for(f=n;f<r.length;f++)u.push(r[f])}return u}function L(r,n,e,t,u){u=u||0;var f=n[1]-r[1],o=r[0]-n[0],i=f*r[0]+o*r[1],a=t[1]-e[1],l=e[0]-t[0],h=a*e[0]+l*e[1],c=f*l-a*o;return d(c,0,u)?[0,0]:[(l*i-o*h)/c,(f*h-a*i)/c]}function d(r,n,e){return e=e||0,Math.abs(r-n)<=e}},{}]},{},[1])(1)});